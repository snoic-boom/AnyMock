(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-fe8b"],{"+1dQ":function(t,_,v){"use strict";var e=v("MDNt");v.n(e).a},"79Qy":function(t,_,v){t.exports=v.p+"static/img/image2019-3-28_23-28-26.a06266a.png"},AoJn:function(t,_,v){"use strict";var e=v("eoqY");v.n(e).a},Dgx4:function(t,_,v){t.exports=v.p+"static/img/image2019-3-28_20-35-35.4c50644.png"},GGDC:function(t,_,v){t.exports=v.p+"static/img/image2019-3-28_20-42-55.f18c9e8.png"},IkD3:function(t,_,v){"use strict";v.r(_);var e=[function(){var t=this,_=t.$createElement,e=t._self._c||_;return e("div",[e("h1",[t._v("功能测试")]),t._v(" "),e("h2",[t._v("方案介绍：")]),t._v(" "),e("ul",[e("li",[t._v("解决外部依赖: 在外部系统不稳定或者不可用的情况下，使用AnyMock来替代，可以保证项目如期推进。")]),t._v(" "),e("li",[t._v("降低测试成本: 在外部系统调用代价较高时，使用AnyMock解耦与外部系统的依赖，降低真实调用的测试成本。")])]),t._v(" "),e("p",[t._v("AnyMock 开源v1.0覆盖了http协议、xml/k-v/json报文格式、同/异步等不同类型的通讯方式，支持静态文本返回，同时具有可扩展性，可通过脚本语言动态组装响应报文，也支持脚本预设路由返回。")]),t._v(" "),e("h2",[t._v("案例分享")]),t._v(" "),e("p",[t._v("AnyMock平台起源于银行通道接入，在外部银行环境不稳定或不可用时模拟银行系统返回交互报文，保障项目稳定开展和自身线下环境的稳定业务回路。接下来我们就用金融支付场景，来介绍如何使用AnyMock应用于功能测试。")]),t._v(" "),e("p",[t._v("平台A在线售卖商品，用户下单后完成支付，平台A发货。第三方支付和银行也不提供线下环境，如果在线上真金验证整个购买流程，成本太高。可以通过AnyMock解决以上功能测试困难。以支付方式使用度小满支付为例。")]),t._v(" "),e("h3",[t._v("场景1  -  支付受理成功")]),t._v(" "),e("p",[t._v("所有支付请求过来，都返回相同的受理成功结果")]),t._v(" "),e("p",[e("strong",[t._v("配置方式参见url")]),t._v("：https://anymockweb.duxiaoman.com/fe/index.html#/interface/update/98")]),t._v(" "),e("p",[e("strong",[t._v("请求方式")]),t._v("：http://anymock.duxiaoman.com/anymock/example/01")]),t._v(" "),e("p",[e("strong",[t._v("结果")]),t._v("：")]),t._v(" "),e("img",{attrs:{src:v("kWbp"),width:"500"}}),t._v(" "),e("h3",[t._v("场景2 - 请求中订单号不同，返回不同支付受理结果")]),t._v(" "),e("p",[e("strong",[t._v("配置方式参见url")]),t._v("：https://anymockweb.duxiaoman.com/fe/index.html#/interface/update/99")]),t._v(" "),e("p",[e("strong",[t._v("关注点")]),t._v("：")]),t._v(" "),e("img",{attrs:{src:v("KYse"),width:"500"}}),t._v(" "),e("p",[e("strong",[t._v("请求方式")]),t._v("：https://anymock.duxiaoman.com/anymock/example/02?orderno=12")]),t._v(" "),e("p",[e("strong",[t._v("结果")]),t._v("：")]),t._v(" "),e("img",{attrs:{src:v("eRs+"),width:"500"}}),t._v(" "),e("h3",[t._v("场景3 - 支付确认成功")]),t._v(" "),e("p",[t._v("支付确认是个异步过程，所以将接口配成异步请求，确认成功作为异步响应返回。")]),t._v(" "),e("p",[e("strong",[t._v("配置方式参见url")]),t._v("：https://anymockweb.duxiaoman.com/fe/index.html#/interface/update/100")]),t._v(" "),e("p",[e("strong",[t._v("关注点")]),t._v("：")]),t._v(" "),e("img",{attrs:{src:v("MXar"),width:"500"}}),t._v(" "),e("br"),t._v(" "),e("img",{attrs:{src:v("YIdo"),width:"500"}}),t._v(" "),e("p",[e("strong",[t._v("请求方式")]),t._v("：curl -X POST https://anymock.duxiaoman.com/anymock/example/03")]),t._v(" "),e("h3",[t._v("场景4 - 不同订单号返回不同支付确认结果")]),t._v(" "),e("p",[t._v("配置方式参见url：")]),t._v(" "),e("h3",[t._v("场景5 - 支付结果查询，根据入参订单号返回不同结果")]),t._v(" "),e("p",[e("strong",[t._v("配置方式参见url")]),t._v("：https://anymockweb.duxiaoman.com/fe/index.html#/interface/update/98")]),t._v(" "),e("p",[e("strong",[t._v("请求方式")]),t._v("：https://anymock.duxiaoman.com/example/05?orderno=123")]),t._v(" "),e("p",[e("strong",[t._v("结果")]),t._v("：")]),t._v(" "),e("img",{attrs:{src:v("79Qy"),width:"500"}})])}],n=(v("+1dQ"),v("KHd+")),o=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},e,!1,null,null,null);o.options.__file="case1.vue";var c=o.exports,a=[function(){var t=this,_=t.$createElement,e=t._self._c||_;return e("div",[e("h1",[t._v("异常测试")]),t._v(" "),e("h2",[t._v("方案介绍：")]),t._v(" "),e("p",[t._v("在交互复杂的线下测试环境，使用AnyMock替代真实数据，可以以较小的代码构造异常的数据、覆盖更多的业务分支和异常场景。仍以金融支付场景为例介绍。")]),t._v(" "),e("h2",[t._v("案例分享")]),t._v(" "),e("h3",[t._v("场景1 -  支付接口返回错误码")]),t._v(" "),e("p",[t._v("根据入参订单号不同，返回不同错误码\n  "),e("strong",[t._v("配置方式参见url")]),t._v("：https://anymockweb.duxiaoman.com/fe/index.html#/interface/update/106")]),t._v(" "),e("p",[e("strong",[t._v("关注点")]),t._v("：")]),t._v(" "),e("img",{attrs:{src:v("KN0U"),width:"500"}}),t._v(" "),e("br"),t._v(" "),e("img",{attrs:{src:v("Dgx4"),width:"500"}}),t._v(" "),e("ul",[e("li",[t._v("关注点一：如果输出存在中文乱码，可以配置HTTP返回头 dContent-Type，指定浏览器用UTF-8解码来解决。")]),t._v(" "),e("li",[t._v("关注点二：Groovy中输出字符串有2种方式："),e("ul",[e("li",[t._v("方法一：单引号将待输出字符串框起来，字符串内不可换行")]),t._v(" "),e("li",[t._v("方法二：使用多行字符串，这种方法输出可带有格式，比如换行")])])])]),t._v(" "),e("p",[e("strong",[t._v("请求方式")]),t._v("：https://anymock.duxiaoman.com/anymock/example/06?orderno=456")]),t._v(" "),e("p",[e("strong",[t._v("结果")]),t._v("：")]),t._v(" "),e("img",{attrs:{src:v("tujM"),width:"500"}}),t._v(" "),e("h3",[t._v("场景2 - 支付接口响应超时")]),t._v(" "),e("p",[e("strong",[t._v("配置方式参见url")]),t._v(" : https://anymockweb.duxiaoman.com/fe/index.html#/interface/update/107")]),t._v(" "),e("p",[e("strong",[t._v("关注点")]),t._v("：同步响应设置延迟，比如希望在Mock在收到请求3秒钟之后再响应，就可以配置为3000。以毫秒为单位。")]),t._v(" "),e("img",{attrs:{src:v("GGDC"),width:"500"}}),t._v(" "),e("p",[e("strong",[t._v("请求方式")]),t._v("：https://anymock.duxiaoman.com/anymock/example/07")])])}],i=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},a,!1,null,null,null);i.options.__file="case2.vue";var s=i.exports,r=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,_=t.$createElement,v=t._self._c||_;return v("div",[v("h1",[t._v("性能测试")]),t._v(" "),v("h2",[t._v("方案介绍：")]),t._v(" "),v("p",[t._v("在线上环境进行压测，使用AnyMock替代依赖下游服务，可以屏蔽对下游服务的影响，同时，可以通过构造下游服务各种异常场景下，被压服务的稳定性，压出被压服务真实全面的性能数据。")]),t._v(" "),v("h2",[t._v("案例分享")]),t._v(" "),v("p",[v("em",[t._v("敬请期待")])]),t._v(" "),v("h1",[t._v("自动化测试")]),t._v(" "),v("h2",[t._v("方案介绍：")]),t._v(" "),v("p",[t._v("在依赖较多的线下自动化测试环境，使用AnyMock替代下游测试服务，可以最大保障自动化case运行的环境稳定性。")]),t._v(" "),v("h2",[t._v("案例分享：")]),t._v(" "),v("h3",[t._v("场景1 - mock不稳定的下游服务")]),t._v(" "),v("p",[t._v("被测服务A依赖下游服务B的某个接口，B服务不稳定，或接口超时，或返回内容经常被人为修改，导致自动化case运行失败。在AnyMock平台上配置B的该接口，按自动化要求设置响应内容。\n  修改A的服务调用，将请求B访问修改为请求AnyMock服务。")]),t._v(" "),v("h3",[t._v("场景2 - 有上下文的业务mock")]),t._v(" "),v("p",[t._v("被测服务A的不同自动化case之间有数据和状态的关联需求，比如：支付自动化case\n  - case1，下单：创建一个新的支付订单号\n  - case2，支付：对case1的新订单进行支付\n  - case3，查询：查询case3订单支付信息")]),t._v(" "),v("p",[t._v("可以通过向redis中存/取数据，实现接口关联")]),t._v(" "),v("p",[v("strong",[v("em",[t._v("更多案例敬请期待")])])])])}],!1,null,null,null);r.options.__file="case3.vue";var m=r.exports,p=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,_=t.$createElement,v=t._self._c||_;return v("div",[v("h1",[t._v("静态文本案例")]),t._v(" "),v("h2",[t._v("案例1 - 同步HTTP请求，静态文本响应")]),t._v(" "),v("p",[v("strong",[t._v("场景")]),t._v("：")]),t._v(" "),v("p",[t._v("同步HTTP接口，对每个请求返回固定字符串内容")]),t._v(" "),v("p",[v("strong",[t._v("配置方式参见，如下url")]),t._v("：")]),t._v(" "),v("p",[t._v("https://anymockweb.duxiaoman.com/fe/index.html#/interface/update/98")]),t._v(" "),v("p",[v("strong",[t._v("请求的url")]),t._v("：\n  http://anymock.duxiaoman.com/anymock/example/01")]),t._v(" "),v("p",[v("strong",[t._v("返回：success")])]),t._v(" "),v("p",[v("strong",[t._v("关注点")]),t._v("：")]),t._v(" "),v("ul",[v("li",[v("p",[t._v("接口配置：\n    （1）配置模式选静态文本")])]),t._v(" "),v("li",[v("p",[t._v("同步响应配置：\n    （1）同步响应返回内容是“success”")])])])])}],!1,null,null,null);p.options.__file="mock1.vue";var l=p.exports,u=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,_=t.$createElement,v=t._self._c||_;return v("div",[v("h1",[t._v("Groovy案例")]),t._v(" "),v("h2",[t._v("案例2 - 同步HTTP请求，自定义脚本响应")]),t._v(" "),v("p",[v("strong",[t._v("场景")]),t._v("：")]),t._v(" "),v("p",[t._v("同步HTTP接口，我想不同的场景返回不一样内容。我应该怎么配置，通过设置配置模式为Groovy，在响应内容里编写自定义脚本。")]),t._v(" "),v("p",[v("strong",[t._v("配置方式参见，如下url")]),t._v("：")]),t._v(" "),v("p",[t._v("https://anymockweb.duxiaoman.com/fe/index.html#/interface/update/99")]),t._v(" "),v("p",[v("strong",[t._v("请求的url")]),t._v("：\n  https://anymock.duxiaoman.com/anymock/example/08?username=AnyMock")]),t._v(" "),v("p",[v("strong",[t._v("返回：hello AnyMock")])]),t._v(" "),v("p",[v("strong",[t._v("关注点")]),t._v("：")]),t._v(" "),v("ul",[v("li",[v("p",[t._v("接口配置：\n    （1）配置模式选Groovy")])]),t._v(" "),v("li",[v("p",[t._v("同步响应配置：\n    （1）同步响应返回内容不再是个固定内容，而是一段可执行的Groovy脚本。\n    （2）print输出的内容即是脚本执行后输出的响应内容。")])])])])}],!1,null,null,null);u.options.__file="mock2.vue";var h=u.exports,g=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,_=t.$createElement,v=t._self._c||_;return v("div",[v("h2",[t._v("案例3 - 同步HTTP请求，预设响应内容")]),t._v(" "),v("p",[v("strong",[t._v("场景")]),t._v("：")]),t._v(" "),v("p",[t._v("同步HTTP接口，响应内容包含逻辑分支，根据请求参数不同返回不同的内容。如果不想编写响应脚本，可以通过设置配置模式为Groovy预设分支，配置路由模板。")]),t._v(" "),v("p",[v("strong",[t._v("配置方式参见，如下url")]),t._v("：")]),t._v(" "),v("p",[t._v("https://anymockweb.duxiaoman.com/fe/index.html#/interface/update/109")]),t._v(" "),v("p",[v("strong",[t._v("请求的url")]),t._v("：\n  https://anymock.duxiaoman.com/anymock/example/09?username=00")]),t._v(" "),v("p",[v("strong",[t._v("返回：hello AnyMock")])]),t._v(" "),v("p",[v("strong",[t._v("关注点")]),t._v("：")]),t._v(" "),v("ul",[v("li",[v("p",[t._v("接口配置：")]),t._v(" "),v("ol",[v("li",[t._v("配置模式选Groovy预设")]),t._v(" "),v("li",[t._v("配置模式下扩展出路由解析规则，是一段可执行的Groovy脚本，根据这段脚本计算出路由模板的路由协议码")])])]),t._v(" "),v("li",[v("p",[t._v("同步响应配置：")]),t._v(" "),v("ol",[v("li",[t._v("同步响应返回内容不再一段Groovy脚本，而是个路由模板list，每个模板的响应路由码都不一样")]),t._v(" "),v("li",[t._v("路由解析规则计算所得结果和每个路由模板的路由码进行匹配，获取模板。")]),t._v(" "),v("li",[t._v("模板响应内容为一段Groovy脚本，print输出的内容即是脚本执行后输出的响应内容")])])])])])}],!1,null,null,null);g.options.__file="mock3.vue";var f={components:{case1:c,case2:s,case3:m,mock1:l,mock2:h,mock3:g.exports},data:function(){return{item:this.$route.params.item}},methods:{goBack:function(){this.$router.back(-1)}}},d=(v("AoJn"),Object(n.a)(f,function(){var t=this,_=t.$createElement,v=t._self._c||_;return v("div",{staticClass:"tmp"},[v("a-button",{staticStyle:{"margin-bottom":"5px"},attrs:{type:"primary",size:"small"},on:{click:t.goBack}},[v("a-icon",{attrs:{type:"left"}}),t._v("Go back\n  ")],1),t._v(" "),"mock1"===t.item?v("mock1"):t._e(),t._v(" "),"mock2"===t.item?v("mock2"):t._e(),t._v(" "),"mock3"===t.item?v("mock3"):t._e(),t._v(" "),"case1"===t.item?v("case1"):t._e(),t._v(" "),"case2"===t.item?v("case2"):t._e(),t._v(" "),"case3"===t.item?v("case3"):t._e()],1)},[],!1,null,null,null));d.options.__file="index.vue";_.default=d.exports},KN0U:function(t,_,v){t.exports=v.p+"static/img/image2019-3-28_20-29-40.00e7980.png"},KYse:function(t,_,v){t.exports=v.p+"static/img/image2019-3-28_19-41-29.64ebf35.png"},MDNt:function(t,_,v){},MXar:function(t,_,v){t.exports=v.p+"static/img/image2019-3-28_19-44-32.697f2e2.png"},YIdo:function(t,_,v){t.exports=v.p+"static/img/image2019-3-27_21-26-45.3152eaf.png"},"eRs+":function(t,_,v){t.exports=v.p+"static/img/image2019-3-28_19-38-17.c01f8b3.png"},eoqY:function(t,_,v){},kWbp:function(t,_,v){t.exports=v.p+"static/img/image2019-3-28_19-37-7.9442f1c.png"},tujM:function(t,_,v){t.exports=v.p+"static/img/image2019-3-28_20-39-49.e9cffbf.png"}}]);